<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" name="viewport" content="width=device-width">
  <meta name="keywords" content="移动端">
  <title>Mobile 布局</title>
  <link rel="stylesheet" type="text/css" href="reset.css">
  <style type="text/css">
    .wraper {
      padding-top: 0.48rem;
      background-color: #eee;
    }
    .form-group {
      padding: 0 .24rem;
      font-size: .3rem;
      height: .88rem;
      background-color: #fff;
      line-height: .88rem;
      border-bottom: 1px solid #f5f5f5;
    }
  </style>
  <script src="http://lib.baomitu.com/zepto/1.2.0/zepto.js"></script>
</head>
<body>
  <div class="wraper">
    <div class="form">
      <div class="form-group">
        <label class="label-title">金额（元）</label>
        <label class="label-title" style="float: right;">100</label>
      </div>

      <div class="form-group">
        <span class="debug"></span>
      </div>
    </div>
  </div>

  <script type="text/javascript">
    // add <meta charset="utf-8" name="viewport" content="width=device-width"> in html
    (function (doc, win) {
      function recalc () {
        // debug
        // rem-unit plugin sublime
        var designWidth = 750; // 视觉图 750px, deviceWidth * dpr
        var standard = 100; // 基准 1rem = 100px
        var dpr = win.devicePixelRatio || 1;
        var scale = 1 / dpr;
        var docEl = doc.documentElement;

        // 设置data-dpr属性，留作的css hack之用
        docEl.setAttribute('data-dpr', dpr);

        // var deviceWidth1 = docEl.clientWidth;
        // console.log(deviceWidth1);
        var deviceWidth = win.screen.width;
        // console.log(deviceWidth);
        if (win.orientation !== undefined) {
          // 横竖屏切换
          deviceWidth = win.screen[win.orientation === 0 ? 'width' : 'height'];
        }
        if (!deviceWidth) return;

        // 设置基准，设定最大值
        var rem = Math.min(deviceWidth * dpr * standard / designWidth, standard);

        // 设置viewport，进行缩放，达到高清效果
        var metaEl = doc.querySelector('meta[name="viewport"]');
        metaEl.setAttribute('content', 'width=' + dpr * deviceWidth +
          ',initial-scale=' + scale +
          ',maximum-scale=' + scale +
          ',minimum-scale=' + scale +
          ',user-scalable=no'
        );

        // 动态写入样式
        var styleEl = doc.createElement('style');
        docEl.firstElementChild.appendChild(styleEl);
        styleEl.innerHTML = 'html{font-size:' + rem + 'px!important;}'
        + 'body {font-size: ' + 30 + 'px!important;}';

        // 绑定关键参数到 window 对象
        win.deviceWidth = deviceWidth;
        win.dpr = dpr;
        win.rem = rem;

        // 给js调用的，某一dpr下rem和px之间的转换函数
        win.rem2px = function(v) {
          v = parseFloat(v);
          return v * rem;
        };
        win.px2rem = function(v) {
          v = parseFloat(v);
          return v / rem;
        };
      }

      // addEventListener
      if (!doc.addEventListener) return;
      var resizeEvt = 'orientationchange' in window ? 'orientationchange' : 'resize';
      win.addEventListener(resizeEvt, recalc, false);
      doc.addEventListener('DOMContentLoaded', recalc, false);
    })(document, window);
  </script>
</body>
</html>
